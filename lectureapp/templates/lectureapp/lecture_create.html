{% extends 'partials/base.html' %}
{% load static %}
{% load crispy_forms_tags %}


{% block extra_css %}
    <link href="{% static 'libs/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css' %}" rel="stylesheet">

{% endblock %}
{% block contents %}
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="card-title mb-4">새 강의 생성</h4>

                                        <form action="{% url 'lectureapp:lecture_create' %}" enctype="multipart/form-data" method="post">
                                            {% csrf_token %}
                                            <div>
                                                <div>
                                                    <div class="row mb-4">
                                                        <label class="col-form-label col-lg-2">{{ lecture_form.name.label }}</label>
                                                        <div class="col-lg-10">
                                                            {{ lecture_form.name }}
                                                        </div>
                                                    </div>
                                                    <div class="row mb-4">
                                                        <label class="col-form-label col-lg-2">{{ lecture_form.teacher.label }}</label>
                                                        <div class="col-lg-10">
                                                            {{ lecture_form.teacher }}
                                                        </div>
                                                    </div>

                                                    <div class="row mb-4">
                                                        <label class="col-form-label col-lg-2">강의 기간</label>
                                                        <div class="col-lg-10">
                                                            <div class="input-daterange input-group" id="project-date-inputgroup" data-provide="datepicker" data-date-format='yyyy-mm-dd'  data-date-container='#project-date-inputgroup' data-date-autoclose="true">
                                                                {{ lecture_form.start_date }}
                                                                {{ lecture_form.end_date }}
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row repeater mb-4">
                                                        <label class="col-form-label col-lg-2">강의 시간</label>
                                                        <div data-repeater-list="coursetime">
                                                            <div data-repeater-item class="mb-3 row">
                                                                <div class="col-md-2 col-4" style="text-align:right;"></div>
                                                                <div class="col-md-8 col-6">
                                                                    <div class="input-group">
                                                                        {{ coursetime_form.day }}
                                                                        {{ coursetime_form.start_time }}
                                                                        {{ coursetime_form.end_time }}
                                                                        <input data-repeater-delete type="button" class="btn btn-primary" value="삭제"/>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-2 col-4" style="text-align:right;"></div>
                                                            <div class="col-md-8 col-6">
                                                                <input data-repeater-create type="button" class="btn btn-success" value="시간추가"/>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row mb-4">
                                                        <label class="col-form-label col-lg-2">{{ lecture_form.description.label }}</label>
                                                        <div class="col-lg-10">
                                                            {{ lecture_form.description }}
                                                        </div>
                                                    </div>

                                                    <div class="row mb-4">
                                                        <label class="col-form-label col-lg-2">{{ lecture_form.cost.label }}</label>
                                                        <div class="col-lg-10">
                                                            {{ lecture_form.cost }}
                                                        </div>
                                                    </div>

                                                    <div class="row mb-4">
                                                        <label class="col-form-label col-lg-2">{{ lecture_form.status.label }}</label>
                                                        <div class="col-lg-10">
                                                            {{ lecture_form.status }}
                                                        </div>
                                                    </div>
                                                    <div class="row justify-content-end">
                                                        <div class="col-lg-10">
                                                            <button type="submit" class="btn btn-primary">강의 생성</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- end row -->
{% endblock %}

{% block extra_javascript %}

    <!-- bootstrap datepicker -->
    <script src="{% static 'libs/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js' %}"></script>
    <!-- form repeater js -->
    <script src="{% static 'libs/jquery.repeater/jquery.repeater.min.js' %}"></script>
    <script src="{% static 'js/pages/form-repeater.int.js' %}"></script>

{% endblock %}